{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/bismillah/Desktop/eveninghobby/receipts-react-native/node_modules/react-native-pinch-zoom-view/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport ViewPropTypes from \"react-native-web/dist/exports/ViewPropTypes\";\nvar viewPropTypes = ViewPropTypes || View.propTypes;\n\nvar PinchZoomView = function (_Component) {\n  _inherits(PinchZoomView, _Component);\n\n  var _super = _createSuper(PinchZoomView);\n\n  function PinchZoomView(props) {\n    var _this;\n\n    _classCallCheck(this, PinchZoomView);\n\n    _this = _super.call(this, props);\n\n    _this._handleStartShouldSetPanResponder = function (e, gestureState) {\n      return false;\n    };\n\n    _this._handleMoveShouldSetPanResponder = function (e, gestureState) {\n      return _this.props.scalable && (Math.abs(gestureState.dx) > 2 || Math.abs(gestureState.dy) > 2 || gestureState.numberActiveTouches === 2);\n    };\n\n    _this._handlePanResponderGrant = function (e, gestureState) {\n      if (gestureState.numberActiveTouches === 2) {\n        var dx = Math.abs(e.nativeEvent.touches[0].pageX - e.nativeEvent.touches[1].pageX);\n        var dy = Math.abs(e.nativeEvent.touches[0].pageY - e.nativeEvent.touches[1].pageY);\n        var distant = Math.sqrt(dx * dx + dy * dy);\n        _this.distant = distant;\n      }\n    };\n\n    _this._handlePanResponderEnd = function (e, gestureState) {\n      _this.setState({\n        lastX: _this.state.offsetX,\n        lastY: _this.state.offsetY,\n        lastScale: _this.state.scale\n      });\n    };\n\n    _this._handlePanResponderMove = function (e, gestureState) {\n      if (gestureState.numberActiveTouches === 2) {\n        var dx = Math.abs(e.nativeEvent.touches[0].pageX - e.nativeEvent.touches[1].pageX);\n        var dy = Math.abs(e.nativeEvent.touches[0].pageY - e.nativeEvent.touches[1].pageY);\n        var distant = Math.sqrt(dx * dx + dy * dy);\n        var scale = distant / _this.distant * _this.state.lastScale;\n\n        if (scale < _this.props.maxScale && scale > _this.props.minScale) {\n          _this.setState({\n            scale: scale,\n            lastMovePinch: true\n          });\n        }\n      } else if (gestureState.numberActiveTouches === 1) {\n          if (_this.state.lastMovePinch) {\n            gestureState.dx = 0;\n            gestureState.dy = 0;\n          }\n\n          var offsetX = _this.state.lastX + gestureState.dx / _this.state.scale;\n          var offsetY = _this.state.lastY + gestureState.dy / _this.state.scale;\n\n          _this.setState({\n            offsetX: offsetX,\n            offsetY: offsetY,\n            lastMovePinch: false\n          });\n        }\n    };\n\n    _this.state = {\n      scale: 1,\n      lastScale: 1,\n      offsetX: 0,\n      offsetY: 0,\n      lastX: 0,\n      lastY: 0,\n      lastMovePinch: false\n    };\n    _this.distant = 150;\n    return _this;\n  }\n\n  _createClass(PinchZoomView, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.gestureHandlers = PanResponder.create({\n        onStartShouldSetPanResponder: this._handleStartShouldSetPanResponder,\n        onMoveShouldSetPanResponder: this._handleMoveShouldSetPanResponder,\n        onPanResponderGrant: this._handlePanResponderGrant,\n        onPanResponderMove: this._handlePanResponderMove,\n        onPanResponderRelease: this._handlePanResponderEnd,\n        onPanResponderTerminationRequest: function onPanResponderTerminationRequest(evt) {\n          return true;\n        },\n        onShouldBlockNativeResponder: function onShouldBlockNativeResponder(evt) {\n          return false;\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, _extends({}, this.gestureHandlers.panHandlers, {\n        style: [styles.container, this.props.style, {\n          transform: [{\n            scaleX: this.state.scale\n          }, {\n            scaleY: this.state.scale\n          }, {\n            translateX: this.state.offsetX\n          }, {\n            translateY: this.state.offsetY\n          }]\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 7\n        }\n      }), this.props.children);\n    }\n  }]);\n\n  return PinchZoomView;\n}(Component);\n\nPinchZoomView.propTypes = _objectSpread(_objectSpread({}, viewPropTypes), {}, {\n  scalable: PropTypes.bool,\n  minScale: PropTypes.number,\n  maxScale: PropTypes.number\n});\nPinchZoomView.defaultProps = {\n  scalable: true,\n  minScale: 0.5,\n  maxScale: 2\n};\nexport { PinchZoomView as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});","map":{"version":3,"sources":["/Users/bismillah/Desktop/eveninghobby/receipts-react-native/node_modules/react-native-pinch-zoom-view/index.js"],"names":["React","Component","PropTypes","viewPropTypes","ViewPropTypes","View","propTypes","PinchZoomView","props","_handleStartShouldSetPanResponder","e","gestureState","_handleMoveShouldSetPanResponder","scalable","Math","abs","dx","dy","numberActiveTouches","_handlePanResponderGrant","nativeEvent","touches","pageX","pageY","distant","sqrt","_handlePanResponderEnd","setState","lastX","state","offsetX","lastY","offsetY","lastScale","scale","_handlePanResponderMove","maxScale","minScale","lastMovePinch","gestureHandlers","PanResponder","create","onStartShouldSetPanResponder","onMoveShouldSetPanResponder","onPanResponderGrant","onPanResponderMove","onPanResponderRelease","onPanResponderTerminationRequest","evt","onShouldBlockNativeResponder","panHandlers","styles","container","style","transform","scaleX","scaleY","translateX","translateY","children","bool","number","defaultProps","StyleSheet","flex"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { View, StyleSheet, PanResponder, ViewPropTypes } from 'react-native';\r\n\r\n// Fallback when RN version is < 0.44\r\nconst viewPropTypes = ViewPropTypes || View.propTypes;\r\n\r\nexport default class PinchZoomView extends Component {\r\n  static propTypes = {\r\n    ...viewPropTypes,\r\n    scalable: PropTypes.bool,\r\n    minScale: PropTypes.number,\r\n    maxScale: PropTypes.number\r\n  };\r\n\r\n  static defaultProps = {\r\n    scalable: true,\r\n    minScale: 0.5,\r\n    maxScale: 2\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      scale: 1,\r\n      lastScale: 1,\r\n      offsetX: 0,\r\n      offsetY: 0,\r\n      lastX: 0,\r\n      lastY: 0,\r\n      lastMovePinch: false\r\n    };\r\n    this.distant = 150;\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.gestureHandlers = PanResponder.create({\r\n      onStartShouldSetPanResponder: this._handleStartShouldSetPanResponder,\r\n      onMoveShouldSetPanResponder: this._handleMoveShouldSetPanResponder,\r\n      onPanResponderGrant: this._handlePanResponderGrant,\r\n      onPanResponderMove: this._handlePanResponderMove,\r\n      onPanResponderRelease: this._handlePanResponderEnd,\r\n      onPanResponderTerminationRequest: evt => true,\r\n      onShouldBlockNativeResponder: evt => false\r\n    });\r\n  }\r\n\r\n  _handleStartShouldSetPanResponder = (e, gestureState) => {\r\n    // don't respond to single touch to avoid shielding click on child components\r\n    return false;\r\n  };\r\n\r\n  _handleMoveShouldSetPanResponder = (e, gestureState) => {\r\n    return (\r\n      this.props.scalable &&\r\n      (Math.abs(gestureState.dx) > 2 ||\r\n        Math.abs(gestureState.dy) > 2 ||\r\n        gestureState.numberActiveTouches === 2)\r\n    );\r\n  };\r\n\r\n  _handlePanResponderGrant = (e, gestureState) => {\r\n    if (gestureState.numberActiveTouches === 2) {\r\n      let dx = Math.abs(\r\n        e.nativeEvent.touches[0].pageX - e.nativeEvent.touches[1].pageX\r\n      );\r\n      let dy = Math.abs(\r\n        e.nativeEvent.touches[0].pageY - e.nativeEvent.touches[1].pageY\r\n      );\r\n      let distant = Math.sqrt(dx * dx + dy * dy);\r\n      this.distant = distant;\r\n    }\r\n  };\r\n\r\n  _handlePanResponderEnd = (e, gestureState) => {\r\n    this.setState({\r\n      lastX: this.state.offsetX,\r\n      lastY: this.state.offsetY,\r\n      lastScale: this.state.scale\r\n    });\r\n  };\r\n\r\n  _handlePanResponderMove = (e, gestureState) => {\r\n    // zoom\r\n    if (gestureState.numberActiveTouches === 2) {\r\n      let dx = Math.abs(\r\n        e.nativeEvent.touches[0].pageX - e.nativeEvent.touches[1].pageX\r\n      );\r\n      let dy = Math.abs(\r\n        e.nativeEvent.touches[0].pageY - e.nativeEvent.touches[1].pageY\r\n      );\r\n      let distant = Math.sqrt(dx * dx + dy * dy);\r\n      let scale = (distant / this.distant) * this.state.lastScale;\r\n      //check scale min to max hello\r\n      if (scale < this.props.maxScale && scale > this.props.minScale) {\r\n        this.setState({ scale, lastMovePinch: true });\r\n      }\r\n    }\r\n    // translate\r\n    else if (gestureState.numberActiveTouches === 1) {\r\n      if (this.state.lastMovePinch) {\r\n        gestureState.dx = 0;\r\n        gestureState.dy = 0;\r\n      }\r\n      let offsetX = this.state.lastX + gestureState.dx / this.state.scale;\r\n      let offsetY = this.state.lastY + gestureState.dy / this.state.scale;\r\n      // if ( offsetX < 0  || offsetY <  0 )\r\n      this.setState({ offsetX, offsetY, lastMovePinch: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <View\r\n        {...this.gestureHandlers.panHandlers}\r\n        style={[\r\n          styles.container,\r\n          this.props.style,\r\n          {\r\n            transform: [\r\n              { scaleX: this.state.scale },\r\n              { scaleY: this.state.scale },\r\n              { translateX: this.state.offsetX },\r\n              { translateY: this.state.offsetY }\r\n            ]\r\n          }\r\n        ]}\r\n      >\r\n        {this.props.children}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}